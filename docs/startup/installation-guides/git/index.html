<!DOCTYPE html><!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]--><!--[if gt IE 8 ]><!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="stylesheet" href="/stylesheets/styles.css"><script src="/javascripts/jquery.js"></script><script src="/javascripts/bootstrap.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-113442079-2"></script><title>Beer Garden Documentation</title></head><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-113442079-2');</script><body class="antialiased"><div class="bootstrap"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false"><span class="sr-only">Toggle Navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="/images/bg-banner.png">Beer Garden</img></a></div><div class="collapse navbar-collapse" id="navbar-collapse-1"><ul class="nav navbar-nav navbar-right"><li><a href="/">Home</a></li><li class="divider"></li><li><a href="https://github.com/beer-garden/beer-garden">Code</a></li><li class="divider"></li><li><a href="/docs/">Docs</a></li></ul></div></div></nav><main><div class="bootstrap masthead"><div class="container"><h2 class="hero">Installing from Source</h2></div></div><div class="bootstrap container"><div class="row top-buffer"><div class="col-lg-4"><div class="col-lg-12"><div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups"><div class="btn-group mr-2" role="group" aria-label="First group"><button class="btn btn-default toggle-navigation" type="button" href="#"><span class="toggle-target"><i class="fa fa-toggle-on"></i><i class="fa fa-toggle-off"></i> Nav</span></button></div><div class="btn-group-mr-2 pull-right" role="group" aria-label="First Group"><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/edit/master//docs/startup/installation-guides/git.adoc">Edit</a><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/raw/master//docs/startup/installation-guides/git.adoc">Raw</a><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/commits/master//docs/startup/installation-guides/git.adoc">History</a></div></div></div><div class="col-lg-12 navigation"><div id="toc" class="toc"><div class="title" id="toctitle">Table of Contents</div><ul class="sectlevel1">
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#install-and-setup">Install and Setup</a>
<ul class="sectlevel2">
<li><a href="#clone-the-repos">Clone the Repos</a></li>
<li><a href="#install-dependencies">Install Dependencies</a></li>
<li><a href="#run-the-tests">Run the Tests</a></li>
<li><a href="#run-the-application">Run the Application</a></li>
</ul>
</li>
</ul></div></div></div><div class="col-lg-8" id="docContent"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This guide will show you how to install Beer Garden for development. When you&#8217;re done you should be able to make changes
to Beer Garden, run the tests, and push up your changes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You will absolutely need these things:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Python 3.7+. You&#8217;ll need a full environment (with pip).</p>
</li>
<li>
<p>Connectivity to MongoDB 3.2+</p>
</li>
<li>
<p>Connectivity to RabbitMQ</p>
</li>
<li>
<p>Git, correctly configured to talk to <a href="https://github.com">GitHub</a></p>
</li>
<li>
<p><a href="https://docs.npmjs.com/cli/v6/commands/npm-install">NPM Install</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><br>
These things are nice to have:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Some sort of virtualenv setup, virtualenvwrapper is nice</p>
</li>
<li>
<p>A Python IDE (e.g. PyCharm)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Installing these is outside the scope of this documentation, so please refer to their installation instructions if you
need help with them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-and-setup"><a class="anchor" href="#install-and-setup"></a>Install and Setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="clone-the-repos"><a class="anchor" href="#clone-the-repos"></a>Clone the Repos</h3>
<div class="paragraph">
<p>There are two main repositories you&#8217;ll need: <code>beer-garden</code> and <code>bindings</code>. Both are part of the
<a href="https://github.com/beer-garden">beer-garden GitHub group</a>. Clone them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>git clone https://github.com/beer-garden/beer-garden.git
git clone https://github.com/beer-garden/brewtils.git</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="install-dependencies"><a class="anchor" href="#install-dependencies"></a>Install Dependencies</h3>
<div class="paragraph">
<p>This is where <code>virtualenvwrapper</code> is helpful. There are two repositories that have their own dependencies
(beer-garden &amp; brewtils). There&#8217;s a .venv file in each of them, so make a virtualenv for each of them:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>mkvirtualenv brewtils
mkvirtualenv beer-garden</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sweet. Now for each of the projects you can install the dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>make deps</code></pre>
</div>
</div>
<div class="paragraph">
<p>At this point we need a little sidebar about how beer-garden is structured. Beer-Garden is the application that
actually run, and bg-utils and brewtils are libraries. Real quick:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Brewtils is the library plugin developers use to create plugins. It has things like our models and decorators.</p>
</li>
<li>
<p>Beer-Garden is our 'internal' library with things like our model-database mappings.</p>
</li>
<li>
<p>Beer-Garden is the REST server that also serves the static frontend.</p>
</li>
<li>
<p>Beer-Garden is basically all the application logic.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>So, as you can probably guess, beer-garden has a compile-time dependency on brewtils.</p>
</div>
<div class="paragraph">
<p>When you ran <code>make deps</code> earlier pip grabbed the latest brewtils from GitHub. So if you make changes to
those projects they won&#8217;t actually show up when you run beer-garden. We need to tell our virtualenvs to install those
distributions in 'editable' mode. From the beer-garden root directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>cd beer-garden; pip uninstall -y brewtils; pip install -e ../../brewtils</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Beer Garden UI utilizes NPM to install Javascript dependencies.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>cd beer-garden/src/ui;
npm install;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="run-the-tests"><a class="anchor" href="#run-the-tests"></a>Run the Tests</h3>
<div class="paragraph">
<p>To make sure everything is working you can run the Python tests. Each project has a <code>Makefile</code> to help run the tests
and more. To generate coverage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>make coverage</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you should see all the tests pass.</p>
</div>
</div>
<div class="sect2">
<h3 id="run-the-application"><a class="anchor" href="#run-the-application"></a>Run the Application</h3>
<div class="paragraph">
<p>The repositories come with configuration settings that make sense for development (these are in the dev_conf
directories), so you should just be able to start the application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Both of these commands will run until you stop them, so you&#8217;ll either need to use two shells or run them in the
background. Use Ctrl-C to kill them.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>cd beer-garden; bin/app.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are utilizing NPM to serve the website</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>cd beer-garden/src/ui;
npm run serve;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see logs as the application starts up. Then you can visit <a href="http://localhost:8080" class="bare">http://localhost:8080</a> to see the application!</p>
</div>
<div class="paragraph">
<p>If you are going to utilize a different hosting platform:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>cd beer-garden/src/ui;
npm run build;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see the static files hosted in <code>beer-garden/src/ui/dist</code> and any hosting platform just needs to point to that
directory, or copy that to their hosting directory. For example, you can host via NGINX.</p>
</div>
</div>
</div>
</div></div><hr></div></div></main></div><footer id="bgfooter"><div class="container"><div class="row"><div class="col-sm-3"><h5>Get Started</h5><ul><li><a href="/">Home</a></li><li><a href="https://github.com/beer-garden/beer-garden/blob/master/CONTRIBUTING.md">Contribute</a></li></ul></div><div class="col-sm-3"><h5>About us</h5><ul><li><a href="https://github.com/beer-garden/beer-garden/blob/master/AUTHORS.md">Contributors</a></li><li><a href="/news">News</a></li></ul></div><div class="col-sm-3"><h5>Support</h5><ul><li><a href="https://github.com/beer-garden/beer-garden/issues">GitHub</a></li></ul></div><div class="col-sm-3 info"><h5>Information</h5><p>Composed in AsciiDoc. Styled by bootstrap. Baked with Awestruct.</p></div></div></div><div class="social-networks"><a class="github" href="https://github.com/beer-garden/beer-garden"><i class="fa fa-github"></i></a></div><div class="footer-copyright"><p>© Beer Garden Project 2022.</p></div></footer></body><script>$('.toggle-navigation').click(function() { $('.navigation').toggle(); $('#docContent').toggleClass('col-lg-8'); $('#docContent').toggleClass('col-lg-12'); $('#docContent').toggleClass('top-buffer'); $('.toggle-target').toggleClass('off'); });</script>