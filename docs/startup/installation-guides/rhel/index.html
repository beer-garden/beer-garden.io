<!DOCTYPE html><!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]--><!--[if gt IE 8 ]><!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="stylesheet" href="/stylesheets/styles.css"><script src="/javascripts/jquery.js"></script><script src="/javascripts/bootstrap.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-113442079-2"></script><title>Beer Garden Documentation</title></head><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-113442079-2');</script><body class="antialiased"><div class="bootstrap"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false"><span class="sr-only">Toggle Navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="/images/bg-banner.png">Beer Garden</img></a></div><div class="collapse navbar-collapse" id="navbar-collapse-1"><ul class="nav navbar-nav navbar-right"><li><a href="/">Home</a></li><li class="divider"></li><li><a href="https://github.com/beer-garden/beer-garden">Code</a></li><li class="divider"></li><li><a href="/docs/">Docs</a></li></ul></div></div></nav><main><div class="bootstrap masthead"><div class="container"><h2 class="hero">Fedora/CentOS/RHEL Installation</h2></div></div><div class="bootstrap container"><div class="row top-buffer"><div class="col-lg-4"><div class="col-lg-12"><div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups"><div class="btn-group mr-2" role="group" aria-label="First group"><button class="btn btn-default toggle-navigation" type="button" href="#"><span class="toggle-target"><i class="fa fa-toggle-on"></i><i class="fa fa-toggle-off"></i> Nav</span></button></div><div class="btn-group-mr-2 pull-right" role="group" aria-label="First Group"><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/edit/master//docs/startup/installation-guides/rhel.adoc">Edit</a><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/raw/master//docs/startup/installation-guides/rhel.adoc">Raw</a><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/commits/master//docs/startup/installation-guides/rhel.adoc">History</a></div></div></div><div class="col-lg-12 navigation"><div id="toc" class="toc"><div class="title" id="toctitle">Table of Contents</div><ul class="sectlevel1">
<li><a href="#prerequisites">Prerequisites</a>
<ul class="sectlevel2">
<li><a href="#rabbitmq">RabbitMQ</a>
<ul class="sectlevel3">
<li><a href="#user-configuration">User Configuration</a></li>
</ul>
</li>
<li><a href="#mongodb">MongoDB</a></li>
</ul>
</li>
<li><a href="#installing-beer-garden">Installing Beer Garden</a>
<ul class="sectlevel2">
<li><a href="#adding-local-plugins">Adding Local Plugins</a></li>
</ul>
</li>
</ul></div></div></div><div class="col-lg-8" id="docContent"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This guide will take you through step-by-step installation instructions for a CentOS box.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
These directions should be relatively universal, but as RHEL/CentOS/Fedora are different operating systems, there might be slight differences.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Beer Garden requires connectivity to a MongoDB server as well as a RabbitMQ installation.  Please refer to their installation instructions for detailed installation instructions/configuration. Here, we will just go over the basics.</p>
</div>
<div class="sect2">
<h3 id="rabbitmq"><a class="anchor" href="#rabbitmq"></a>RabbitMQ</h3>
<div class="paragraph">
<p>First, we need to install the rabbitmq-server and the plugins:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>sudo yum install -y rabbitmq-server librabbitmq</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we want to start the service:</p>
</div>
<div class="listingblock">
<div class="title">Centos 6</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo service rabbitmq-server start</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Centos 7</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo systemctl start rabbitmq-server</code></pre>
</div>
</div>
<div class="paragraph">
<p>We also want to enable the management plugin. This isn&#8217;t strictly necessary but it makes managing RabbitMQ much easier.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>sudo rabbitmq-plugins enable rabbitmq_management</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
You may see a problem after you do this where <code>/etc/rabbitmq/enabled_plugins</code> is not readable. If so, just do the following: <code>chown rabbitmq.rabbitmq /etc/rabbitmq/enabled_plugins</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then restart:</p>
</div>
<div class="listingblock">
<div class="title">Centos 6</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo service rabbitmq-server restart</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Centos 7</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo systemctl restart rabbitmq-server</code></pre>
</div>
</div>
<div class="paragraph">
<p>The management plugin starts a web interface on <a href="http://localhost:15672" class="bare">http://localhost:15672</a>. You can visit that address in a browser to see the management plugin interface. The default username and password are both 'guest'.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The management interface is only bound to localhost, so you can only access it from the same machine that&#8217;s running RabbitMQ.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you are planning on running these services long-term, you may want to make sure they stay on:</p>
</div>
<div class="listingblock">
<div class="title">Centos 6</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo chkconfig rabbitmq-server on</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Centos 7</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo systemctl enable rabbitmq-server</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="user-configuration"><a class="anchor" href="#user-configuration"></a>User Configuration</h4>
<div class="paragraph">
<p>If you want remote plugins to be able to connect to your Rabbit queue you&#8217;ll need to use a different user (the default 'guest' user only allows connections from localhost). Add a new user like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>sudo rabbitmqctl add_user USER PASSWORD
sudo rabbitmqctl set_user_tags USER administrator
sudo rabbitmqctl set_permissions beer_garden ".*" ".*" ".*"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mongodb"><a class="anchor" href="#mongodb"></a>MongoDB</h3>
<div class="paragraph">
<p>First we need to install the mongo packages:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>sudo yum install -y mongodb-org</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Don&#8217;t forget, beer-garden requires version 3.2 or higher.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Next, run the service:</p>
</div>
<div class="listingblock">
<div class="title">Centos 6</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo service mongod start</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Centos 7</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo systemctl restart mongod</code></pre>
</div>
</div>
<div class="paragraph">
<p>Enable the service:</p>
</div>
<div class="listingblock">
<div class="title">Centos 6</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo chkconfig mongod on</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Centos 7</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo systemctl enable mongod</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-beer-garden"><a class="anchor" href="#installing-beer-garden"></a>Installing Beer Garden</h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
We are working on getting a yum repository hosted through <a href="https://packagecloud.io/">Package cloud</a>, so hopefully we can point you at a yum repo sometime soon! For now you&#8217;ll have to download an RPM from our GitHub releases section.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You&#8217;ll have to download our latest RPM. Then install with yum:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>sudo yum install beer-garden</code></pre>
</div>
</div>
<div class="paragraph">
<p>All Beer Garden configuration files are located in <code>/opt/beer-garden/conf</code>. Feel free to adjust the configuration as necessary. For more information on configuration see <a href="/docs/app/configuration/">Configuring Beer Garden</a>.</p>
</div>
<div class="paragraph">
<p>Next we just need to start the service and make sure it&#8217;s running by default:</p>
</div>
<div class="listingblock">
<div class="title">Centos 6</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo service beer-garden start
sudo chkconfig beer-garden on</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Centos 7</div>
<div class="content">
<pre class="CodeRay highlight"><code>sudo systemctl enable beer-garden
sudo systemctl start beer-garden</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now check to see if it&#8217;s up: <a href="http://{host}:{port}/" class="bare">http://{host}:{port}/</a></p>
</div>
<div class="sect2">
<h3 id="adding-local-plugins"><a class="anchor" href="#adding-local-plugins"></a>Adding Local Plugins</h3>
<div class="paragraph">
<p>Plugins come as .tar.gz files right now.  So get access to the .tar.gz file and put it in the right spot:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>cp /tmp/my-plugin-0.0.1.tar.gz /opt/beer-garden/plugins/.
cd /opt/beer-garden/plugins/
tar -zxvf my-plugin-0.0.1.tar.gz</code></pre>
</div>
</div>
<div class="paragraph">
<p>Edit any configuration files necessary for the plugin. You can start the new plugin through the GUI:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the beer-garden GUI</p>
</li>
<li>
<p>Select Admin &#8594; Systems</p>
</li>
<li>
<p>Click "Rescan Plugin Directory"</p>
</li>
<li>
<p>You should see your plugin appear!</p>
</li>
</ul>
</div>
</div>
</div>
</div></div><hr></div></div></main></div><footer id="bgfooter"><div class="container"><div class="row"><div class="col-sm-3"><h5>Get Started</h5><ul><li><a href="/">Home</a></li><li><a href="https://github.com/beer-garden/beer-garden/blob/master/CONTRIBUTING.md">Contribute</a></li></ul></div><div class="col-sm-3"><h5>About us</h5><ul><li><a href="https://github.com/beer-garden/beer-garden/blob/master/AUTHORS.md">Contributors</a></li><li><a href="/news">News</a></li></ul></div><div class="col-sm-3"><h5>Support</h5><ul><li><a href="https://github.com/beer-garden/beer-garden/issues">GitHub</a></li></ul></div><div class="col-sm-3 info"><h5>Information</h5><p>Composed in AsciiDoc. Styled by bootstrap. Baked with Awestruct.</p></div></div></div><div class="social-networks"><a class="github" href="https://github.com/beer-garden/beer-garden"><i class="fa fa-github"></i></a></div><div class="footer-copyright"><p>© Beer Garden Project 2022.</p></div></footer></body><script>$('.toggle-navigation').click(function() { $('.navigation').toggle(); $('#docContent').toggleClass('col-lg-8'); $('#docContent').toggleClass('col-lg-12'); $('#docContent').toggleClass('top-buffer'); $('.toggle-target').toggleClass('off'); });</script>