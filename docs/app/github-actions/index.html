<!DOCTYPE html><!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]--><!--[if gt IE 8 ]><!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="stylesheet" href="/stylesheets/styles.css"><script src="/javascripts/jquery.js"></script><script src="/javascripts/bootstrap.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-113442079-2"></script><title>Beer Garden Documentation</title></head><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-113442079-2');</script><body class="antialiased"><div class="bootstrap"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false"><span class="sr-only">Toggle Navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="/images/bg-banner.png">Beer Garden</img></a></div><div class="collapse navbar-collapse" id="navbar-collapse-1"><ul class="nav navbar-nav navbar-right"><li><a href="/">Home</a></li><li class="divider"></li><li><a href="https://github.com/beer-garden/beer-garden">Code</a></li><li class="divider"></li><li><a href="/docs/">Docs</a></li></ul></div></div></nav><main><div class="bootstrap masthead"><div class="container"><h2 class="hero">Github Actions</h2></div></div><div class="bootstrap container"><div class="row top-buffer"><div class="col-lg-4"><div class="col-lg-12"><div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups"><div class="btn-group mr-2" role="group" aria-label="First group"><button class="btn btn-default toggle-navigation" type="button" href="#"><span class="toggle-target"><i class="fa fa-toggle-on"></i><i class="fa fa-toggle-off"></i> Nav</span></button></div><div class="btn-group-mr-2 pull-right" role="group" aria-label="First Group"><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/edit/master//docs/app/github-actions.adoc">Edit</a><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/raw/master//docs/app/github-actions.adoc">Raw</a><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/commits/master//docs/app/github-actions.adoc">History</a></div></div></div><div class="col-lg-12 navigation"><div id="toc" class="toc"><div class="title" id="toctitle">Table of Contents</div><ul class="sectlevel1">
<li><a href="#pull-requests">Pull Requests</a></li>
<li><a href="#tagging">Tagging</a></li>
<li><a href="#scheduled-and-integration">Scheduled and Integration</a>
<ul class="sectlevel2">
<li><a href="#local-plugin-testing">Local Plugin Testing</a></li>
<li><a href="#remote-plugin-testing">Remote Plugin Testing</a></li>
<li><a href="#parent-child-testing">Parent/Child Testing</a></li>
</ul>
</li>
<li><a href="#source-code">Source Code</a></li>
</ul></div></div></div><div class="col-lg-8" id="docContent"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>On this page we will go over the different Actions that are triggered within the Beer-Garden Repo.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pull-requests"><a class="anchor" href="#pull-requests"></a>Pull Requests</h2>
<div class="sectionbody">
<div id="_pull_requests" class="paragraph">
<p>During every Pull Request, Github Actions runs the following steps.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Linting: Verifies that the formatting standard was maintained. Common resolution is running <code>make format</code>.</p>
</li>
<li>
<p>PyTest: Runs all of the Unit Tests documented within the environment</p>
</li>
<li>
<p>Code Coverage: Checks the cover coverage of the Unit Tests and uploads results to CodeCov.io (<a href="https://app.codecov.io/gh/beer-garden/beer-garden">Beer Garden</a> and <a href="https://app.codecov.io/gh/beer-garden/brewtils">Brewtils</a>)</p>
</li>
<li>
<p>Complexity Checks: Custom-ish complexity checker to identify how many if/for loops we are utilizing.</p>
</li>
<li>
<p>Security Checks: Runs security scans on the code repo.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>For Pull Requests that depends on a Brewtils PR, we have a custom tag that can be utilized to reference it for testing purposes: `brewtils: &lt;branch&gt;`

This tag will download that version of Brewtils for the test environment, instead of develop.</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tagging"><a class="anchor" href="#tagging"></a>Tagging</h2>
<div class="sectionbody">
<div id="_tagging" class="paragraph">
<p>When a Tag is added to Beer Garden, the automated release process is kicked off. This is how Beer-Garden
manages releases. The tag text will be utilized as the Version release for their respective hosting location.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Docker Builds</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://hub.docker.com/r/bgio/beer-garden">Beer-Garden Framework</a></p>
</li>
<li>
<p><a href="https://hub.docker.com/r/bgio/plugins">Plugins</a></p>
</li>
<li>
<p><a href="https://hub.docker.com/r/bgio/ui">Beer-Garden UI</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>NPM Build</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.npmjs.com/package/@beer-garden/addons">Angular Schema Forms Addons</a></p>
</li>
<li>
<p><a href="https://www.npmjs.com/package/@beer-garden/builder">Angular Schema Forms Builder</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>PyPi Build</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://pypi.org/project/beer-garden/">Beer Garden</a></p>
</li>
<li>
<p><a href="https://pypi.org/project/brewtils/">Brewtils</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Please note that the version utilized Docker Builder for Beer-Garden will be utilized for the Brewtils install on that Docker Image.</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scheduled-and-integration"><a class="anchor" href="#scheduled-and-integration"></a>Scheduled and Integration</h2>
<div class="sectionbody">
<div id="_scheduled_and_integration" class="paragraph">
<p>On a nightly job, Beer Garden kicks off it&#8217;s integration testing. This is a short list of tests that heavily
relies on the matrix feature of Github Actions to support all the various use cases that is needed.</p>
</div>
<div class="paragraph">
<p>There are three primary tests that are executed through the scheduler.</p>
</div>
<div class="sect2">
<h3 id="local-plugin-testing"><a class="anchor" href="#local-plugin-testing"></a>Local Plugin Testing</h3>
<div class="paragraph">
<p>Beer Garden has a collection of Example Plugins that are used to demonstrate the various features of the
framework. This test deploys the latest version of that plugins against the latest version of Develop. Then
verifies that Requests can be sent to each of them. This ensures that all edge cases has been handled.</p>
</div>
</div>
<div class="sect2">
<h3 id="remote-plugin-testing"><a class="anchor" href="#remote-plugin-testing"></a>Remote Plugin Testing</h3>
<div class="paragraph">
<p>The latest V3 release branch of Beer Garden is backwards compatible with V3 releases of Brewtils on
various Python versions. This ensures that any older V3 plugins that are running remotely will be to
connection to Beer Garden.</p>
</div>
<div class="paragraph">
<p>Currently Testing Matrix:</p>
</div>
<div class="paragraph">
<p>[
<code>Python 2.7</code>,
<code>Python 3.4</code>,
<code>Python 3.5</code>,
<code>Python 3.6</code>,
<code>Python 3.7</code>,
<code>Python 3.8</code>,
<code>Python 3.9</code>
]
x
[
<code>Brewtils 3.0.0</code>,
<code>Brewtils 3.0.1</code>,
<code>Brewtils 3.0.2</code>,
<code>Brewtils 3.1.0</code>
]</p>
</div>
</div>
<div class="sect2">
<h3 id="parent-child-testing"><a class="anchor" href="#parent-child-testing"></a>Parent/Child Testing</h3>
<div class="paragraph">
<p>V3 introduced the new ability to connect Beer Gardens together. To ensure this is working properly, Beer Garden
deploys and configures two Beer Gardens to communicate. Just like the plugin, if the Parent Beer Garden is the
latest V3 release, the Child Beer Garden can be any V3 variant.</p>
</div>
<div class="paragraph">
<p>Testing steps</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Start Parent Garden</p>
</li>
<li>
<p>Start Child Garden</p>
</li>
<li>
<p>Configure Child Connection on Parent</p>
</li>
<li>
<p>Verify the Child Systems are on the Parent</p>
</li>
<li>
<p>Task Child through Parent</p>
</li>
<li>
<p>Task Child through Child</p>
</li>
<li>
<p>Verify both requests are on Parent</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="source-code"><a class="anchor" href="#source-code"></a>Source Code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are interested in how we accomplished any of our Github actions, check out the following links and our source code.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/beer-garden/beer-garden/tree/develop/.github/workflows">Beer-Garden</a></p>
</li>
<li>
<p><a href="https://github.com/beer-garden/brewtils/blob/develop/.github/workflows">Brewtils</a></p>
</li>
<li>
<p><a href="https://github.com/beer-garden/angular-schema-form-builder/tree/develop/.github/workflows">Angular Schema Form Builder</a></p>
</li>
<li>
<p><a href="https://github.com/beer-garden/angular-schema-form-addons/tree/develop/.github/workflows">Angular Schema Form Addons</a></p>
</li>
<li>
<p><a href="https://docs.github.com/en/actions">Github Actions Docs</a></p>
</li>
</ul>
</div>
</div>
</div></div><hr></div></div></main></div><footer id="bgfooter"><div class="container"><div class="row"><div class="col-sm-3"><h5>Get Started</h5><ul><li><a href="/">Home</a></li><li><a href="https://github.com/beer-garden/beer-garden/blob/master/CONTRIBUTING.md">Contribute</a></li></ul></div><div class="col-sm-3"><h5>About us</h5><ul><li><a href="https://github.com/beer-garden/beer-garden/blob/master/AUTHORS.md">Contributors</a></li><li><a href="/news">News</a></li></ul></div><div class="col-sm-3"><h5>Support</h5><ul><li><a href="https://github.com/beer-garden/beer-garden/issues">GitHub</a></li></ul></div><div class="col-sm-3 info"><h5>Information</h5><p>Composed in AsciiDoc. Styled by bootstrap. Baked with Awestruct.</p></div></div></div><div class="social-networks"><a class="github" href="https://github.com/beer-garden/beer-garden"><i class="fa fa-github"></i></a></div><div class="footer-copyright"><p>© Beer Garden Project 2022.</p></div></footer></body><script>$('.toggle-navigation').click(function() { $('.navigation').toggle(); $('#docContent').toggleClass('col-lg-8'); $('#docContent').toggleClass('col-lg-12'); $('#docContent').toggleClass('top-buffer'); $('.toggle-target').toggleClass('off'); });</script>